(this["webpackJsonpxstate-todo-list"]=this["webpackJsonpxstate-todo-list"]||[]).push([[0],{25:function(t,e,n){t.exports={App:"styles_App__2sPPR"}},33:function(t,e,n){},36:function(t,e,n){"use strict";n.r(e);var o=n(8),c=n.n(o),r=n(23),s=n.n(r),i=(n(33),n(2)),a=function(){return Object(i.jsx)("header",{className:"p-6 bg-indigo-200 shadow-md items-center space-x-4 text-3xl text-center flow-root sticky top-0",children:"XState todo list"})},d=n(27),u=n(39),l=n(20),j=n(28),O=n(17),b=n.n(O),h=n(24),x=n(40),f=n(5),p=Object(x.a)({id:"todo",initial:"idle",context:{todos:[],newTodo:"",newTodoError:!1,showFlashScreen:!0},states:{idle:{on:{FETCH:"loading"}},loading:{invoke:{id:"fetchTodos",src:function(){var t=Object(h.a)(b.a.mark((function t(){var e;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=JSON.parse(localStorage.getItem("todos")||"[]"),t.next=3,new Promise((function(t){return setTimeout(t,2e3)}));case 3:return t.abrupt("return",e);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),onDone:{actions:Object(f.b)({todos:function(t,e){return e.data},showFlashScreen:function(t){return!1}})}},on:{UPDATE_NEW_TODO:{actions:Object(f.b)({newTodo:function(t,e){return e.value},newTodoError:function(t){return!1}})},ADD_TODO:{actions:Object(f.b)({newTodo:function(t){return""},newTodoError:function(t){return!(t.newTodo.length>0)},todos:function(t){var e=t.newTodo.length?[].concat(Object(j.a)(t.todos),[{id:t.todos.length,text:t.newTodo,completed:!1}]):t.todos;return m(e),e}})},TOGGLE_TODO:{actions:Object(f.b)({todos:function(t,e){var n=t.todos.map((function(t){return t.id===e.value.id?Object(l.a)(Object(l.a)({},t),{},{completed:!t.completed}):t}));return m(n),n}})},REMOVE_TODO:{actions:Object(f.b)({todos:function(t,e){var n=t.todos.filter((function(t){return t.id!==e.value.id}));return m(n),n}})}}}}}),m=function(t){localStorage.setItem("todos",JSON.stringify(t))},g=n(25),T=n.n(g),w=function(t){var e=t.todos,n=t.send;return 0===e.length?Object(i.jsx)("span",{className:"mx-auto",children:" - "}):Object(i.jsx)(i.Fragment,{children:e.sort((function(t,e){return e.id-t.id})).map((function(t){return Object(i.jsxs)("div",{onClick:function(){n({type:"TOGGLE_TODO",value:t})},className:"h-30 my-4 p-2 shadow-sm rounded-xl ".concat(t.completed?"text-gray-400":""," cursor-pointer"),children:[Object(i.jsx)("input",{type:"checkbox",checked:t.completed,className:"mx-2",onChange:function(){}}),Object(i.jsx)("span",{children:t.text}),Object(i.jsx)("button",{onClick:function(e){e.preventDefault(),e.stopPropagation(),n({type:"REMOVE_TODO",value:t})},className:"float-right text-xl text-indigo-600",children:"\ud83c\udd67"})]},t.id)}))})},v=function(){return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("style",{children:".loading-lion {\n                    display: flex;\n                    position: fixed;\n                    top: 0;\n                    bottom: 0;\n                    left: 0;\n                    right: 0;\n                    width: 200px;\n                    height: 200px;\n                    justify-content: center;\n                    align-items: center;\n                    margin: auto;\n                }"}),Object(i.jsx)("div",{className:"animate-bounce loading-lion",children:Object(i.jsx)("span",{style:{transform:"scale(7)"},children:"\ud83e\udd81"})})]})},D=function(){var t=Object(u.a)(p),e=Object(d.a)(t,2),n=e[0],c=e[1],r=n.context.todos.filter((function(t){return t.completed})),s=n.context.todos.filter((function(t){return!t.completed})),a=n.context.showFlashScreen;return Object(o.useEffect)((function(){c("FETCH")}),[c]),a?Object(i.jsx)(v,{}):Object(i.jsxs)("div",{className:T.a.App,children:[Object(i.jsx)("input",{type:"text",className:"\n                    p-6 bg-white rounded-xl shadow-md\n                    focus:outline-none focus:shadow-outline\n                    ".concat(n.context.newTodoError&&"border-2 border-red-400","\n                "),value:n.context.newTodo,onChange:function(t){c({type:"UPDATE_NEW_TODO",value:t.target.value})},onKeyDown:function(t){"Enter"===t.key&&c({type:"ADD_TODO"})},placeholder:"What needs to be done?"}),Object(i.jsx)("button",{className:"p-3 rounded-xl shadow-md bg-indigo-600 text-white hover:bg-indigo-700 align-baseline",onClick:function(){c({type:"ADD_TODO"})},children:"Add Todo"}),Object(i.jsxs)("section",{children:[Object(i.jsx)("h3",{children:"Todos: "}),Object(i.jsx)(w,{todos:s,send:c}),Object(i.jsx)("h3",{children:"Completed:"}),Object(i.jsx)(w,{todos:r,send:c})]})]})};function y(){return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(a,{}),Object(i.jsx)(D,{})]})}var E=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,41)).then((function(e){var n=e.getCLS,o=e.getFID,c=e.getFCP,r=e.getLCP,s=e.getTTFB;n(t),o(t),c(t),r(t),s(t)}))};s.a.render(Object(i.jsx)(c.a.StrictMode,{children:Object(i.jsx)(y,{})}),document.getElementById("root")),E()}},[[36,1,2]]]);
//# sourceMappingURL=main.4ae043a4.chunk.js.map